"use strict";function _instanceof(n,t){return t!=null&&typeof Symbol!="undefined"&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](n):n instanceof t}function _typeof(n){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(n)}function _classCallCheck(n,t){if(!_instanceof(n,t))throw new TypeError("Cannot call a class as a function");}function _defineProperties(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function _createClass(n,t,i){return t&&_defineProperties(n.prototype,t),i&&_defineProperties(n,i),n}function _possibleConstructorReturn(n,t){return t&&(_typeof(t)==="object"||typeof t=="function")?t:_assertThisInitialized(n)}function _assertThisInitialized(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _getPrototypeOf(n){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(n)}function _inherits(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&_setPrototypeOf(n,t)}function _setPrototypeOf(n,t){return _setPrototypeOf=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},_setPrototypeOf(n,t)}var RevealContent=function(n){function t(n){var i;return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n)),i.showText=n.showText||"Show More",i.hideText=n.hideText||"Show Less",i.linesVisible=n.linesVisible||0,i.state={revealExpanded:!1,linesHeightStyle:0,hideButton:!1,isTouch:!1},i}return _inherits(t,n),_createClass(t,[{key:"componentDidMount",value:function(){if(window.getComputedStyle&&(window.getComputedStyle(this.learnMoreButtonElem).display=="none"&&this.setState({revealExpanded:!0}),this.props.linesVisible>0)){var i=this.refs.reviewContent.lastChild,n=this.refs.reviewContent.lastChild.clientHeight,r=window.getComputedStyle(i,null).getPropertyValue("line-height"),t=parseInt(r,10)*this.linesVisible;this.setState({hideButton:t<n?!1:!0});this.setState({linesHeightStyle:t<n?t+"px":n+"px"})}}},{key:"expandContent",value:function(n){function t(){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}(function(n){n.stopPropagation();expandContent()})},{key:"expandContent",value:function(){this.setState({revealExpanded:!this.state.revealExpanded},function(){!this.state.revealExpanded&&this.props.scrollTo&&document.getElementById(this.props.scrollTo).scrollIntoView();var n=this.panel,t=this.state.linesHeightStyle;this.state.revealExpanded?this.slideDown(n,t):this.slideUp(n,t);this.state.revealExpanded?this.refs.reviewContent.classList.add("a11y-focused"):this.refs.reviewContent.classList.remove("a11y-focused");this.refs.reviewContent.focus()})}},{key:"slideUp",value:function(n,t){function u(){i<=t?(clearInterval(r),n.style.display="none"):(i-=28,n.style.maxHeight=i+"px")}var i=n.getBoundingClientRect().height,r=setInterval(u,1)}},{key:"slideDown",value:function(n){function r(){t>n.getBoundingClientRect().height?(clearInterval(i),n.style.maxHeight="100%"):(t+=28,n.style.maxHeight=t+"px")}n.style.display="block";var t=0,i=setInterval(r,1)}},{key:"render",value:function(){var n=this,i=React.createElement("button",{"aria-pressed":this.state.revealExpanded?"true":"false",className:"button-learn-more",ref:function(t){return n.learnMoreButtonElem=t},onClick:function(t){return n.expandContent(t)}},React.createElement("span",null,this.state.revealExpanded?this.hideText:this.showText),React.createElement("svg",{className:"icon svg-icon-chevron-down","aria-hidden":"true",focusable:"false"},React.createElement("use",{xlinkHref:"#svg-icon-chevron-down"}))),t=null;return t=this.props.childHtml?React.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.childHtml}}):this.props.children,React.createElement("div",{className:"reveal-content-container"},React.createElement("div",{ref:function(t){return n.panel=t},className:"reveal-content"+(this.state.revealExpanded?" expanded":" reveal-content-hidden"),style:this.props.linesVisible>0?{display:"inline-block",width:"100%",visibility:"visible",maxHeight:this.state.linesHeightStyle,minHeight:this.state.linesHeightStyle}:null},React.createElement("div",{tabIndex:this.state.revealExpanded?"-1":"","aria-hidden":!this.state.revealExpanded&&!this.state.hideButton?"true":"false",ref:"reviewContent"},t)),this.state.hideButton?null:i)}}]),t}(React.Component)