"use strict";function _instanceof(n,t){return t!=null&&typeof Symbol!="undefined"&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](n):n instanceof t}function _typeof(n){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(n)}function _extends(){return _extends=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},_extends.apply(this,arguments)}function _classCallCheck(n,t){if(!_instanceof(n,t))throw new TypeError("Cannot call a class as a function");}function _defineProperties(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function _createClass(n,t,i){return t&&_defineProperties(n.prototype,t),i&&_defineProperties(n,i),n}function _possibleConstructorReturn(n,t){return t&&(_typeof(t)==="object"||typeof t=="function")?t:_assertThisInitialized(n)}function _getPrototypeOf(n){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(n)}function _assertThisInitialized(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _inherits(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&_setPrototypeOf(n,t)}function _setPrototypeOf(n,t){return _setPrototypeOf=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},_setPrototypeOf(n,t)}function _defineProperty(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}var DimensionCarousel=function(n){function t(n){var i,r;return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n)),_defineProperty(_assertThisInitialized(i),"handleLazyLoad",function(){i.setState({isLazyLoaded:!0})}),r={},r=typeof n.dimensionList=="string"?JSON.parse(n.dimensionList):n.dimensionList,i.state={data:r,isLazyLoaded:!i.props.isLazyLoadComponent},i.onBeforeChange=i.onBeforeChange.bind(_assertThisInitialized(i)),i}return _inherits(t,n),_createClass(t,[{key:"componentDidMount",value:function(){this.state.isLazyLoaded||Crate.Services.LazyLoadService.watchReactElement(this.refs.dimensionCarousel,this.handleLazyLoad,"500px 200px")}},{key:"onBeforeChange",value:function(n){var i=this.refs["currentDimension".concat(n)],t;!i||(t=i.refs.revealContentComponent,!!t&&t.state.revealExpanded&&(t.setState({revealExpanded:!1}),t.expandContent()))}},{key:"render",value:function(){var n=this,t="".concat(typeof Window=="undefined"?" server-side-rendered ":""),i={accessibility:!0,arrows:!0,dots:!1,infinite:this.props.dimensionList.length<2?!1:!0,lazyLoad:!1,slidesToShow:1,slidesToScroll:1,draggable:!1,prevArrow:React.createElement("button",{className:"slick-arrow","aria-label":"Previous",onClick:this.props.onClick},React.createElement("svg",{className:"icon svg-icon-arrow-left","aria-hidden":"true",focusable:"false"},React.createElement("use",{xlinkHref:"#svg-icon-arrow-left"})),React.createElement("span",{className:"sr-only"},"Previous")),nextArrow:React.createElement("button",{className:"slick-arrow","aria-label":"Next",onClick:this.props.onClick},React.createElement("svg",{className:"icon svg-icon-arrow-right","aria-hidden":"true",focusable:"false"},React.createElement("use",{xlinkHref:"#svg-icon-arrow-right"})),React.createElement("span",{className:"sr-only"},"Next")),beforeChange:this.onBeforeChange,responsive:[{breakpoint:768,settings:this.props.dimensionList.length<2?"unslick":{draggable:!0,dots:!0,arrows:!1}}]},r=this.state.isLazyLoaded&&React.createElement(CrateSlickCarousel,_extends({onRef:function(t){n.slider=t}},i,{focusSelector:"button"}),this.state.data.map(function(t,i){return React.createElement("div",{key:i},React.createElement(Dimensions,{ref:"currentDimension".concat(i),dimensionModel:t,isCb2:n.props.isCb2,isMobile:n.props.isMobile,isHousewares:n.props.isHousewares,videoUrl:n.props.videoUrl,learnMoreLink:n.props.learnMoreLink,videoSettings:n.props.videoSettings}))}));return React.createElement("div",null,!!this.state.data&&React.createElement("section",{id:"section-dimensions",className:"section-region section-dimensions page-nav-content"+t,tabIndex:"-1"},React.createElement("h2",{className:"section-header"},React.createElement("a",{className:"section-header-anchor"},"Dimensions")),this.props.isCb2?"":React.createElement("p",{className:"section-tagline"},"Will it fit in your space?"),React.createElement("div",{ref:"dimensionCarousel"},r)))}}]),t}(React.Component),DimensionDetail=function(n){var t=null;return n.productDimensions&&(t=n.productDimensions.map(function(t,i){var u=t.description==="Diagonal"?React.createElement("p",{id:"will-it-fit",className:"will-it-fit"},"Will it fit through ",React.createElement("br",null),"your door?"):null,f=t.width>0?React.createElement("p",null,"Width: ",t.width,React.createElement("abbr",{"aria-label":"inches",title:"inches"},'"')):null,e=t.depth>0?React.createElement("p",null,"Depth: ",t.depth,React.createElement("abbr",{"aria-label":"inches",title:"inches"},'"')):null,o=t.height>0?React.createElement("p",null,"Height: ",t.height,React.createElement("abbr",{"aria-label":"inches",title:"inches"},'"')):null,s=t.diameter>0?React.createElement("p",null,"Diameter: ",t.diameter,React.createElement("abbr",{"aria-label":"inches",title:"inches"},'"')):null,h=t.weight>0?React.createElement("p",null,"Weight: ",t.weight):null,r=t.description==="Diagonal"?React.createElement("a",{target:"_blank",href:n.learnMoreLink},"Why is this important?",React.createElement("span",{className:"sr-only"}," (opens in a new tab)")):null;return React.createElement("div",{key:t.description+i,className:"dimensions-item"},u,React.createElement("h5",{"aria-describedby":r?"will-it-fit":""},t.description),f,e,o,s,h,r)})),React.createElement("div",{className:"dimensions-details"},t,n.isMobile&&n.showVideoButton)},Dimensions=function(n){function t(n){var i;return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n)),i.state={isHidden:!!n.dimensionModel.imageWithMacro},i.toggleHidden=i.toggleHidden.bind(_assertThisInitialized(i)),i.showVideo=i.showVideo.bind(_assertThisInitialized(i)),i}return _inherits(t,n),_createClass(t,[{key:"componentDidMount",value:function(){}},{key:"toggleHidden",value:function(){!this.props.dimensionModel.imageWithMacro||this.setState({isHidden:!this.state.isHidden})}},{key:"showVideo",value:function(){var n=React.createElement(DimensionVideoPopup,{learnMoreLink:this.props.learnMoreLink,videoSettings:this.props.videoSettings});Crate.React.Actions.PopupActions.updateContent({content:n,containerClasses:["wide","tall"]})}},{key:"render",value:function(){var n=this.props.dimensionModel,u=React.createElement("div",{className:"dimensions-image"},React.createElement("span",{className:"tap-zoom-overlay"},"TAP TO ZOOM"),React.createElement(ScalableImage,{id:"dimension-image",className:"dimensions-img",src:n.imageWithMacro,alt:"Image with dimension for ".concat(n.productName),isMobile:this.props.isMobile})),i=!this.props.isHousewares&&React.createElement("div",{className:"preparing-for-delivery"},React.createElement("div",{className:"preparing-for-delivery-text-wrap"},React.createElement("h4",{className:"preparing-for-delivery-header"},"Preparing for Delivery."),React.createElement("p",{className:"preparing-for-delivery-intro"},"Tips for welcoming your new furniture home.")),React.createElement("button",{className:"button button-primary button-lg watch-video-button",onClick:this.showVideo,rel:"nofollow,noindex"},React.createElement("span",null,"Video"))),t=React.createElement(DimensionDetail,{isMobile:this.props.isMobile,showVideoButton:i,learnMoreLink:this.props.learnMoreLink,productDimensions:n.productDimensions}),r=React.createElement("div",{className:""},React.createElement(RevealContent,{hideText:this.props.isMobile?"Show Less":"Show Less Dimensions",showText:this.props.isMobile?"Show More":"Show More Dimensions",ref:"revealContentComponent"},t)),f=!this.props.isMobile&&React.createElement("div",{className:"dimension-details-container"},this.props.isCb2?t:React.createElement("div",null,React.createElement("div",{className:"dimension-overview"},i,React.createElement("div",{className:"overall-dimension"},React.createElement("h4",null,n.productDimensions.length>0&&n.productDimensions[0].description),n.productDimensions.length>0&&n.productDimensions[0].width>0?React.createElement("p",null,"Width: ",n.productDimensions[0].width,React.createElement("abbr",{"aria-label":"inches",title:"inches"},'"')):null,n.productDimensions.length>0&&n.productDimensions[0].depth>0?React.createElement("p",null,"Depth: ",n.productDimensions[0].depth,React.createElement("abbr",{"aria-label":"inches",title:"inches"},'"')):null,n.productDimensions.length>0&&n.productDimensions[0].height>0?React.createElement("p",null,"Height: ",n.productDimensions[0].height,React.createElement("abbr",{"aria-label":"inches",title:"inches"},'"')):null,n.productDimensions.length>0&&n.productDimensions[0].diameter>0?React.createElement("p",null,"Diameter: ",n.productDimensions[0].diameter,React.createElement("abbr",{"aria-label":"inches",title:"inches"},'"')):null)),n.productDimensions.length>1&&(n.imageWithMacro?r:t)));return React.createElement("div",null,React.createElement("div",{style:{display:"block",width:"100%"}},React.createElement("h3",{className:"dimensions-product-name hidden-xs"},React.createElement("span",{className:"sr-only"},"Dimensions for "),n.productName)),React.createElement("div",{className:"dimensions-container"+(n.imageWithMacro!=null?"":" dimensions-no-image")},!!n.imageWithMacro&&u,f,!n.imageWithMacro&&this.props.isMobile&&t),n.imageWithMacro&&this.props.isMobile&&r)}}]),t}(React.Component),DimensionVideoPopup=function(n){function t(n){var i;return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n)),i.loadVideo=i.loadVideo.bind(_assertThisInitialized(i)),i}return _inherits(t,n),_createClass(t,[{key:"componentDidMount",value:function(){this.loadVideo(0)}},{key:"loadVideo",value:function(n){var t=this;typeof s7viewers!="undefined"?new s7viewers.VideoViewer({containerId:"s7_videoview_popup",params:this.props.videoSettings}).init():n++<120&&setTimeout(function(){return t.loadVideo(n)},250)}},{key:"render",value:function(){return React.createElement("div",{className:"dimension-video-popup popupContent"},React.createElement("div",{className:"promoTextCopyBlock",id:"lblCopy"},React.createElement("h2",{className:"delivery-prep-headline"},"Preparing for Delivery",React.createElement("a",{className:"learn-more-delivery-prep",target:"_blank",href:this.props.learnMoreLink},"Learn more about getting ready for delivery day.",React.createElement("span",{className:"sr-only"},"(opens in a new tab)"))),React.createElement("div",{id:"s7_videoview_popup",className:"s7videoviewer s7mouseinput s7size_medium s7device_portrait"})))}}]),t}(React.Component)